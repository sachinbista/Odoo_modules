<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="custom_ckus_stub" inherit_id="l10n_us_check_printing.ckus_stub">
        <xpath expr="//table[hasclass('stub_lines')]" position="replace">
        </xpath>
        <xpath expr="//div[hasclass('stub_total_amount')]" position="replace">
        </xpath>
        <xpath expr="//div[hasclass('summary_line')]" position="replace">
            <div style="height:20pt">
                <div class="row">
                    <div class="col-auto col-8 mw-100" style="padding-left:2px;">
                        Vendor No:  <span t-out="page['vendor_ref']"/> /Name:  <span t-out="page['partner_name']"/>
                    </div>
                    <div class="col-auto col-4 mw-100" style="text-align: end; padding-right:35px;">
                        <span t-if="page['sequence_number']" t-out="page['sequence_number']"/>
                    </div>
                </div>
            </div>
            <div style="height:155pt">
                <table class="table table-borderless table-sm stub_lines"  style="width:553pt;" t-if="page['stub_lines']">
                    <thead><tr>
                        <th class="text-start">Due Date</th>
                        <th class="text-start">Description</th>
                        <th class="text-end">Invoice Amount</th>
                        <th class="text-end">Balance Due</th>
                        <th class="text-end">Payment</th>
                    </tr></thead>
                    <tbody>
                        <t t-foreach="page['stub_lines']" t-as="stub_line">
                            <t t-if="stub_line.get('header')">
                                <tr><th colspan="6"><t t-out="stub_line['name']"/></th></tr>
                            </t>
                            <t t-if="not stub_line.get('header')"><tr>
                                <td class="text-start"><t t-if="stub_line['due_date']" t-out="stub_line['due_date']"/></td>
                                <td class="text-start text-truncate" style="max-width: 500px;"><t t-out="stub_line['number']"/></td>
                                <td class="text-end"><t t-out="stub_line['amount_total'].replace(o.currency_id.symbol, '')"/></td>
                                <td class="text-end">
                                    <t t-out="stub_line['amount_residual'].replace(o.currency_id.symbol, '')"/>
                                </td>
                                <td class="text-end"><t t-out="stub_line['amount_paid'].replace(o.currency_id.symbol, '')"/></td>
                            </tr></t>
                        </t>
                        <tr t-if="page['stub_cropped']"><td colspan="6" class="text-end">...</td></tr>
                    </tbody>
                </table>
            </div>
            <div class="row" style="height:60pt">
                <div class="col-auto col-4 mw-100 mb-2" style="padding-left:30px;">
                </div>
                <div class="col-auto col-4 mw-100 mb-2" style="padding-left:150px;">
                    Check Date = <span><t t-out="page['date']"/></span>
                </div>
                <div class="col-auto col-4 mw-100 mb-2" style="text-align: right; padding-right:35px;">
                    Total = <span><t t-out="page['amount'].replace(o.currency_id.symbol, '')"/></span>
                </div>
            </div>
        </xpath>
    </template>

    <template id="l10n_us_check_printing.ckus_check">
        <div>
            <t t-if="page['state'] == 'cancelled'">
                <div class="o-watermark">VOID</div>
            </t>
            <div>
                <br/>
                <br/>
                <div class="row">
                    <div class="col-auto col-9 mw-100 mb-2">
                        <span> </span>
                    </div>
                    <div class="col-auto col-3 mw-100 mb-2" style="text-align: end;">
                        <span> </span>
                    </div>
                </div>
                <div class="row">
                    <div class="col-auto col-8 mw-100 mb-2" style="padding-left:2px;">
                        <span> </span>
                    </div>
                    <div class="col-auto col-4 mw-100 mb-2" style="text-align: end; padding-right:35px;">
                        <span t-if="page['sequence_number']" t-out="page['sequence_number']"/>
                    </div>
                </div>
            </div>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <div>
                <div style="width:330pt;">
                    <span t-out="page['amount_in_word']"/>
                    <br/>
                </div>
                <div id="the-whole-thing"
                     style="margin-top:7pt;position: relative; overflow: hidden;">
                    <br/>
                    <div id="leftThing"
                         style="position: relative; width: 60%; float: left; padding-left:70px;">
                        <p t-out="page['partner_id']" t-options='{"widget": "contact", "fields": ["address", "name"], "no_marker": True}'/>
                    </div>
                    <div id="content"
                         style="position: relative; width: 20%; float: left; padding-right:70px; text-align: end;">
                        <span t-out="page['date']"/>
                    </div>
                    <div id="rightThing"
                         style="position: relative;width: 20%; float: left; padding-right:35px; text-align: end;">
                        <t t-out="page['amount'].replace(o.currency_id.symbol, '')"/>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <template id="l10n_us_check_printing.print_check_middle">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <div t-att-data-oe-model="o._name" t-att-data-oe-id="o.id" t-foreach="o._check_get_pages()" t-as="page" class="page article ckus_page ckus_middle_page" t-attf-style="top: {{ o.company_id.account_check_printing_margin_top }}in; left: {{ o.company_id.account_check_printing_margin_left }}in;">
                    <div style="height:235pt">
                        <t t-call="l10n_us_check_printing.ckus_stub"><t t-set="stub_num" t-value="1"/></t>
                    </div>
                    <div style="height:260pt">
                        <t t-call="l10n_us_check_printing.ckus_check" />
                    </div>
                    <div style="height:250pt">
                        <t t-call="l10n_us_check_printing.ckus_stub"><t t-set="stub_num" t-value="2"/></t>
                    </div>
                </div>
            </t>
        </t>
    </template>
</odoo>
