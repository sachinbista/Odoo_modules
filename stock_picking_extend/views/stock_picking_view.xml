<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="stock_landed_cost_search_view_inherited" model="ir.ui.view">
        <field name="name">stock.landed.cost.search.view</field>
        <field name="model">stock.landed.cost</field>
        <field name="inherit_id" ref="stock_landed_costs.view_stock_landed_cost_search"/>
        <field name="arch" type="xml">
            <field name="name" position="after">
                <field name="container_id" string="Container ID"/>
                <field name="valuation_adjustment_lines" string="Product" filter_domain="[('valuation_adjustment_lines.product_id', 'ilike', self)]"/>
            </field>
             <filter name="done" position="after">
                  <filter string="Container ID" name="container_id" domain="[('container_id', '!=', False)]"/>
             </filter>
        </field>
    </record>

    <record id="view_picking_internal_search_inherited_spe" model="ir.ui.view">
        <field name="name">stock.picking.search.view</field>
        <field name="model">stock.picking</field>
        <field name="inherit_id" ref="stock.view_picking_internal_search"/>
        <field name="arch" type="xml">
            <filter name="backorder" position="before">
                <filter name="landed_cost_status_pending" string="Landed Cost-(Pending)" domain="[('landed_cost_status', '=', 'pending')]"/>
                <filter name="landed_cost_status_done" string="Landed Cost-(Done)" domain="[('landed_cost_status', '=', 'done')]"/>
                <filter name="landed_cost_status_cancel" string="Landed Cost-(Not Required)" domain="[('landed_cost_status', '=', 'cancel')]"/>
            </filter>
            <filter name="picking_type" position="after">
                <filter name="group_by_landed_cost_status" string="Landed Cost Status" context="{'group_by':'landed_cost_status'}"/>
            </filter>
        </field>
    </record>

    <record id="view_picking_form_inherit_stock_picking_extend" model="ir.ui.view">
        <field name="name">view.picking.form.inherit.extend</field>
        <field name="model">stock.picking</field>
        <field name="inherit_id" ref="stock.view_picking_form"/>
        <field name="arch" type="xml">
            <xpath expr="//page[@name='extra']//field[@name='group_id']" position="after">
                <field name="total_case_count"/>
                <field name="total_pallet_count"/>
                <field name="total_quantities"/>
            </xpath>

            <xpath expr="//button[@name='action_see_packages']" position="replace">
                <button type="object"
                        name="action_see_packages"
                        class="oe_stat_button"
                        icon="fa-cubes"
                        attrs="{'invisible': [('has_packages', '=', False)]}">
                    <field name="package_count" widget="statinfo"/>
                </button>
            </xpath>
        </field>
    </record>

    <record id="custom_stock_picking_form_view_inherit" model="ir.ui.view">
        <field name="name">view.picking.form.custom.inherit</field>
        <field name="model">stock.picking</field>
        <field name="inherit_id" ref="bista_go_flow.custom_stock_picking_form_view"/>
        <field name="arch" type="xml">
            <xpath expr="//group//group[1]" position="inside">
                <field name="total_case_count" readonly="1"/>
                <field name="total_pallet_count" readonly="1"/>
            </xpath>
        </field>
    </record>


    <record id="view_picking_list_inherit_stock_picking_extend" model="ir.ui.view">
        <field name="name">stock.picking.delivery.tree.inherit.delivery</field>
        <field name="model">stock.picking</field>
        <field name="inherit_id" ref="stock.vpicktree"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='goflow_routing_status']" position="after">
                <field name="total_case_count" optional="show" sum="Total Case Count"/>
                <field name="total_pallet_count" optional="show" sum="Total Pallet Count"/>
                <field name="total_quantities" optional="show" sum="Total Quantity"/>
            </xpath>
        </field>
    </record>



    <!-- ======= Action All Transfers (stock.picking)==========-->
        <record id="stock.action_picking_tree_all" model="ir.actions.act_window">
            <field name="name">All Transfers</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_mode">tree,kanban,form,calendar</field>
            <field name="domain"></field>
            <field name="context">{'contact_display': 'partner_address', 'default_company_id': allowed_company_ids[0]}</field>
            <field name="search_view_id" ref="stock.view_picking_internal_search"/>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    No transfer found. Let's create one!
                </p><p>
                    Transfers allow you to move products from one location to another.
                </p>
            </field>
        </record>


        <record id="picking_receipt_tree_all" model="ir.ui.view">
            <field name="name">stock.picking.tree</field>
            <field name="model">stock.picking</field>
            <field name="arch" type="xml">
                <tree string="Picking list" multi_edit="1" sample="1">
                    <header>
                        <button name="do_unreserve" type="object" string="Unreserve"/>
                        <button name="action_assign" type="object" string="Check Availability"/>
                    </header>
                    <field name="company_id" invisible="1"/>
                    <field name="priority" optional="show" widget="priority" nolabel="1"/>
                    <field name="name" decoration-bf="1"/>
                    <field name="location_id" options="{'no_create': True}" string="From" groups="stock.group_stock_multi_locations" optional="show"/>
                    <field name="location_dest_id" options="{'no_create': True}" string="To" groups="stock.group_stock_multi_locations" optional="show"/>
                    <field name="partner_id" optional="show"/>
                    <field name="is_signed" string="Signed" optional="hide" groups="stock.group_stock_sign_delivery"/>
                    <field name="user_id" optional="hide" widget="many2one_avatar_user"/>
                    <field name="scheduled_date" optional="show" widget="remaining_days" attrs="{'invisible':[('state', 'in', ('done', 'cancel'))]}"/>
                    <field name="picking_type_code" invisible="1"/>
                    <field name="products_availability_state" invisible="1" options='{"lazy": true}'/>
                    <field name="products_availability" options='{"lazy": true}'
                        optional="hide"
                        attrs="{'invisible': ['|', ('picking_type_code', '!=', 'outgoing'), ('state', 'not in', ['confirmed', 'waiting', 'assigned'])]}"
                        decoration-success="state == 'assigned' or products_availability_state == 'available'"
                        decoration-warning="state != 'assigned' and products_availability_state in ('expected', 'available')"
                        decoration-danger="state != 'assigned' and products_availability_state == 'late'"/>
                    <field name="date_deadline" optional="hide" widget="remaining_days" attrs="{'invisible':[('state', 'in', ('done', 'cancel'))]}"/>
                    <field name="date_done" string="Effective Date" optional="hide"/>
                    <field name="origin" optional="show"/>
                    <field name="container_id" optional="show"/>
                    <field name="backorder_id" optional="hide"/>
                    <field name="picking_type_id" optional="hide"/>
                    <field name="company_id" groups="base.group_multi_company" optional="show"/>
                    <field name="state" optional="show" widget="badge"
                           decoration-danger="state=='cancel'"
                           decoration-info="state== 'assigned'"
                           decoration-muted="state == 'draft'"
                           decoration-success="state == 'done'"
                           decoration-warning="state not in ('draft','cancel','done','assigned')"/>
                    <field name="picking_priority"/>
                    <field name="goflow_routing_status" widget="badge" decoration-info="goflow_routing_status== 'routing_requested'" decoration-success="goflow_routing_status == 'routing_received'"/>
                    <field name="landed_cost_status" widget="badge" optional="show" decoration-info="landed_cost_status == 'pending'" decoration-success="landed_cost_status == 'done'" decoration-danger="landed_cost_status == 'cancel'" />
                    <field name="total_case_count" optional="show" sum="Total Case Count"/>
                    <field name="total_pallet_count" optional="show" sum="Total Pallet Count"/>
                    <field name="total_quantities" optional="show" sum="Total Quantity"/>
                    <field name="activity_exception_decoration" widget="activity_exception"/>
                    <field name="json_popover" widget="stock_rescheduling_popover" nolabel="1" attrs="{'invisible': [('json_popover', '=', False)]}"/>
                </tree>
            </field>
        </record>

        <!-- ======= Action Receipts (stock.picking)==========-->
        <record id="action_picking_receipt_tree_all" model="ir.actions.act_window">
            <field name="name">Receipts</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_mode">tree,kanban,form,calendar</field>
            <field name="domain">[('picking_type_code', '=', 'incoming')]</field>
            <field name="context">{'search_default_draft': 1,'search_default_waiting': 1,'search_default_available': 1, 'contact_display': 'partner_address', 'default_company_id': allowed_company_ids[0]}</field>
            <field name="search_view_id" ref="stock.view_picking_internal_search"/>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    No transfer found. Let's create one!
                </p><p>
                    Transfers allow you to move products from one location to another.
                </p>
            </field>
        </record>

        <record model="ir.actions.act_window.view" id="action_picking_receipt_tree_view_all">
            <field name="sequence" eval="0"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="picking_receipt_tree_all"/>
            <field name="act_window_id" ref="action_picking_receipt_tree_all"/>
        </record>
        <record model="ir.actions.act_window.view" id="action_picking_receipt_form_view_all">
            <field name="sequence" eval="1"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="stock.view_picking_form"/>
            <field name="act_window_id" ref="action_picking_receipt_tree_all"/>
        </record>

        <!-- ======= Action Deliveries (stock.picking)==========-->
        <record id="action_picking_deliverie_tree_all" model="ir.actions.act_window">
            <field name="name">Deliveries</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_mode">tree,kanban,form,calendar</field>
            <field name="domain">[('picking_type_code', '=', 'outgoing')]</field>
            <field name="context">{'search_default_draft': 1,'search_default_waiting': 1,'search_default_available': 1,'contact_display': 'partner_address', 'default_company_id': allowed_company_ids[0]}</field>
            <field name="search_view_id" ref="stock.view_picking_internal_search"/>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    No transfer found. Let's create one!
                </p><p>
                    Transfers allow you to move products from one location to another.
                </p>
            </field>
        </record>

        <!-- ======= Action Internal (stock.picking)==========-->
        <record id="action_picking_internal_tree_all" model="ir.actions.act_window">
            <field name="name">Internal Transfers</field>
            <field name="res_model">stock.picking</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_mode">tree,kanban,form,calendar</field>
            <field name="domain">[('picking_type_code', '=', 'internal')]</field>
            <field name="context">{'search_default_draft': 1,'search_default_waiting': 1,'search_default_available': 1,'contact_display': 'partner_address', 'default_company_id': allowed_company_ids[0]}</field>
            <field name="search_view_id" ref="stock.view_picking_internal_search"/>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    No transfer found. Let's create one!
                </p><p>
                    Transfers allow you to move products from one location to another.
                </p>
            </field>
        </record>
        
        <menuitem id="menu_transfer"
                  name="Transfers"
                  parent="stock.menu_stock_warehouse_mgmt"
                  sequence="1"
                  groups="stock.group_stock_manager,stock.group_stock_user"/>
        <menuitem id="stock.all_picking"
                  name="All Transfers"
                  parent="menu_transfer"
                  sequence="1"
                  action="stock.action_picking_tree_all"
                  groups="stock.group_stock_manager,stock.group_stock_user"/>
        <menuitem id="all_picking_receipt"
                  name="Receipts"
                  parent="menu_transfer"
                  sequence="2"
                  action="action_picking_receipt_tree_all"
                  groups="stock.group_stock_manager,stock.group_stock_user"/>
        <menuitem id="all_picking_deliverie"
                  name="Deliveries"
                  parent="menu_transfer"
                  sequence="3"
                  action="action_picking_deliverie_tree_all"
                  groups="stock.group_stock_manager,stock.group_stock_user"/>

        <menuitem id="all_picking_internal"
                  name="Internal"
                  parent="menu_transfer"
                  sequence="4"
                  action="action_picking_internal_tree_all"
                  groups="stock.group_stock_manager,stock.group_stock_user"/>
                  
       <menuitem action="stock_picking_batch.stock_picking_batch_action" 
       			 id="stock_picking_batch.stock_picking_batch_menu" 
       			 parent="menu_transfer" 
       			 sequence="5"/>
       			 
       <menuitem id="intercompany_stock_transfer.menu_intercompany_stock_transfer"
		         name="Resupply Transfer"
		         action="intercompany_stock_transfer.action_intercompany_stock_transfer"
		         parent="menu_transfer"
		         sequence="25"
		         groups="stock.group_stock_manager,stock.group_stock_user"/>
		         
       <menuitem name="Adjustments" 
       			 id="menu_inventory_adjustment" 
       			 parent="stock.menu_stock_warehouse_mgmt" 
       			 sequence="3"/>
       			 
       <menuitem id="stock.menu_stock_scrap"
		         name="Scrap"
		         parent="menu_inventory_adjustment"
		         action="stock.action_stock_scrap"
		         sequence="1"/>
		         
       <menuitem id="stock.menu_action_inventory_tree" 
       			 name="Inventory Adjustments" 
       			 parent="menu_inventory_adjustment" 
       			 sequence="2" 
       			 action="stock.action_view_inventory_tree" />
       			 
	   <menuitem id="sync_inventory_adjustment.stock_physical_count" 
	   			 name="Physical Count" 
	   			 parent="menu_inventory_adjustment" 
	   			 sequence="3" 
	   			 action="sync_inventory_adjustment.action_inventory_form" />
	   			 
	   <menuitem action="stock.action_procurement_compute" 
      			 id="stock.menu_procurement_compute" 
      			 parent="menu_inventory_adjustment" 
      			 sequence="4" 
      			 groups="base.group_no_one"/>
		         
	   <menuitem name="Procurement" 
       			 id="menu_inventory_procurement" 
       			 parent="stock.menu_stock_warehouse_mgmt" 
       			 sequence="4"/>
       			 
       <menuitem id="stock.menu_reordering_rules_replenish"
		         action="stock.action_replenishment"
		         name="Replenishment" 
		         parent="menu_inventory_procurement" 
		         sequence="1"
		         groups="stock.group_stock_manager"/>
		         
</odoo>